(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(6),r=a.n(s),o=(a(12),a(5)),d=a.n(o),i=a(2),l=a(7),j=a(3),u=a(0),b=function(e){var t=e.getWeather,a=Object(n.useState)(""),c=Object(j.a)(a,2),s=c[0],r=c[1];return Object(u.jsx)("form",{className:"input-form",onSubmit:function(e){e.preventDefault(),t(s),r("")},children:Object(u.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter city name...",value:s,onChange:function(e){r(e.target.value)}})})},h=function(e){var t=e.weatherData,a=t.date,n=t.sys,c=t.name,s=t.weather,r=t.main;return Object(u.jsxs)("div",{className:"today",children:[Object(u.jsxs)("div",{className:"today__header",children:[Object(u.jsx)("span",{className:"today__header-title",children:"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],", ").concat(a.getDate())}),Object(u.jsxs)("span",{className:"today__header-today today__header-title",children:["".concat(c)," ",Object(u.jsx)("sup",{children:"".concat(n.country)})]}),Object(u.jsx)("span",{className:"today__header-title",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()]})]}),Object(u.jsxs)("div",{className:"today__body",children:[Object(u.jsx)("img",{className:"today__body-image",src:"https://openweathermap.org/img/wn/".concat(s[0].icon,"@2x.png"),alt:""}),Object(u.jsxs)("div",{className:"today__body-temps",children:[Object(u.jsx)("div",{className:"today__body-temp",children:"".concat(Math.round(r.temp),"\xb0C")}),Object(u.jsx)("div",{className:"today__body-feeltemp",children:"Feels like ".concat(Math.round(r.feels_like),"\xb0C")})]}),Object(u.jsx)("span",{className:"today__body-conditions",children:"".concat(s[0].main)})]})]})},m=Object(n.memo)(h),y=function(e){var t=e.dayData,a=t.dt,n=t.weather,c=new Date(1e3*a);return Object(u.jsxs)("div",{className:"week__day",children:[Object(u.jsxs)("div",{className:"week__day-header",children:[Object(u.jsx)("span",{className:"week__day-date",children:c.getDate()}),Object(u.jsx)("span",{className:"week__day-day",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getDay()].slice(0,3)})]}),Object(u.jsxs)("div",{className:"week__day-body",children:[Object(u.jsx)("img",{className:"week__day-image",src:"https://openweathermap.org/img/wn/".concat(n[0].icon,"@2x.png"),alt:""}),Object(u.jsx)("span",{className:"week__day-temp",children:"".concat(Math.round(t.temp.day),"\xb0C")})]})]})},p=function(e){var t=e.weekData;return Object(u.jsx)("div",{className:"week",children:t.daily.map((function(e){return Object(u.jsx)(y,{dayData:e,timezone:t.timezone_offset},e.dt)}))})},O=Object(n.memo)(p);a(15);var x=function(){var e=Object(n.useState)({lat:null,long:null}),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({now:null,week:null}),r=Object(j.a)(s,2),o=r[0],h=r[1],y=Object(n.useState)({now:null,week:null}),p=Object(j.a)(y,2),x=p[0],w=p[1];Object(n.useEffect)((function(){f()}),[]),Object(n.useEffect)((function(){var e=a.lat,t=a.long;null!==e&&null!==t&&_("",!0)}),[a]);var f=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;c({lat:a,long:n})}),(function(e){throw e}))},_=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,c,s,r,o,l,j,u,b,m,y=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>1&&void 0!==y[1]&&y[1],c="529c3904f06a70b46ab233d16d1f4eb5",s="https://api.openweathermap.org/data/2.5/weather",!n){e.next=9;break}return e.next=6,fetch("".concat(s,"?lat=").concat(a.lat,"&lon=").concat(a.long,"&appid=").concat(c,"&units=metric"));case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,fetch("".concat(s,"?q=").concat(t,"&appid=").concat(c,"&units=metric"));case 11:e.t0=e.sent;case 12:if(!(r=e.t0).ok){e.next=34;break}return e.next=16,r.json();case 16:return o=e.sent,l=o.coord,j=l.lon,u=l.lat,b=new Date(1e3*o.dt),n?h(Object(i.a)(Object(i.a)({},o),{},{date:b})):w(Object(i.a)(Object(i.a)({},o),{},{date:b})),m="https://api.openweathermap.org/data/2.5/onecall",e.next=23,fetch("".concat(m,"?lat=").concat(u,"&lon=").concat(j,"&exclude=minutely,alerts&appid=").concat(c,"&units=metric"));case 23:if(!(r=e.sent).ok){e.next=31;break}return e.next=27,r.json();case 27:o=e.sent,n?h((function(e){return Object(i.a)(Object(i.a)({},e),{},{week:o})})):w((function(e){return Object(i.a)(Object(i.a)({},e),{},{week:o})})),e.next=32;break;case 31:throw r;case 32:e.next=35;break;case 34:throw r;case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(b,{getWeather:_}),x.week&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{weatherData:x}),Object(u.jsx)(O,{weekData:x.week})]}),o.week&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Your location"}),Object(u.jsx)(m,{weatherData:o}),Object(u.jsx)(O,{weekData:o.week})]})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.25795f9e.chunk.js.map